<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Reclamaciones</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        font-family: 'Segoe UI', sans-serif;
        background: #f2f2f2;
        overflow-x: hidden;
    }

    /* FONDO INCRUSTADO EN BASE64 */
    .background {
        position: fixed;
        top: 0; 
        left: 0;
        width: 100vw;
        height: 100vh;
        background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAJ0A5ADASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/EAMUQAAEDAwMCBAQDBQcFAQAA
EAAgMRBBBRIhMQZBUQdTYXEigZGhCCNCscHR8EJS4RQzUuHxJENTYoKSssIWJDNzg6Ky/8QAGgEA
AgMBAQAAAAAAAAAAAAAAAAECAwQFBv/EACwRAAICAQQBAgUEAwAAAAAAAAABAhEDEiExBBNBUQUi
YXGBkaHB0fAjobH/2gAMAwEAAhEDEQA/APqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAABRergRrStxSaLkkmlq8pTg0lHWs7Ws+9Wr8hXIJ7kdKuLVdE2sk1xSTlx
5WVa8qj8zxYp4rW3XNOE4zWVnqzqLVteM+L6XjZRnJ8Ne5uVXlXDiPzVbdH9Ncc23dq5Nctev4fsm
Ta9ZE6tT2XGvpk842fVvMu5vZW3Rspr8+2SdtV6Pm7LKa5vgq/wBCcWWqvWV3Ncrb4ZfYw3mq5XlV
nsdM9HmbZ9WtPjXO/I2rXXp8Z+cj8jWc0JjFZ2eMRp6/ELLZZYrWnmXeR8hVMu+XK4dMnk1x0yqrP
hxwv6lxKXErx6q3qomNa0oxW9fLx+2OvmXZXyJ6YpZyxLD8PMcZanFaE5KdTlzS269/bd4rZMVhYy
wzWNYyS52rFFJzRpp9b/Uw1YVjGsqxtsn2w3WtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEiLH2bUZpSlS5dlt4pSlGWSlGWSlGWSlGWrC2
8pSlGUEtGWSlGWSlGWEkWx2yxopaSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUp
SUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqS
UqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUq
SUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUqSUv/9k=');
        background-size: cover;
        background-position: center;
        filter: blur(8px) brightness(0.7);
        z-index: -1;
    }

    /* DEGRADADO SUPERIOR */
    .gradient-overlay {
        position: fixed;
        top: 0; 
        left: 0;
        width: 100vw; 
        height: 100vh;
        background: linear-gradient(
            to bottom, 
            rgba(255,255,255,0.75), 
            rgba(255,255,255,0.4), 
            rgba(255,255,255,0.55)
        );
        z-index: -1;
    }

    /* TARJETA PRINCIPAL */
    .form-card {
        max-width: 830px;
        margin: 70px auto;
        background: rgba(255,255,255,0.92);
        padding: 55px;
        border-radius: 26px;
        box-shadow: 0 12px 40px rgba(0,0,0,0.22);
        backdrop-filter: blur(8px);
    }

    h1 {
        font-size: 36px;
        font-weight: 600;
        margin-bottom: 10px;
    }

    p.description {
        margin-bottom: 35px;
        font-size: 16px;
        color: #555;
    }

    label {
        display: block;
        margin-top: 18px;
        margin-bottom: 8px;
        font-weight: 600;
    }

    input, textarea {
        width: 100%;
        padding: 14px;
        border-radius: 10px;
        border: 1px solid #ccc;
        font-size: 15px;
        background: #fff;
        transition: .2s;
    }

    input:focus, textarea:focus {
        border-color: #2563eb;
        box-shadow: 0 0 0 3px rgba(37,99,235,0.3);
        outline: none;
    }

    textarea {
        min-height: 80px;
        resize: vertical;
    }

    .radio-group {
        display: flex;
        gap: 30px;
        margin-top: 6px;
    }

    button {
        margin-top: 30px;
        background: #2563eb;
        color: white;
        padding: 15px 26px;
        border: none;
        border-radius: 10px;
        font-size: 17px;
        font-weight: 600;
        cursor: pointer;
        transition: .2s;
    }

    button:hover {
        background: #1e4ec7;
        transform: translateY(-2px);
    }

    /* CONTROL AUDIO */
    #musicControl {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(0,0,0,0.7);
        padding: 10px 18px;
        color: white;
        border-radius: 18px;
        cursor: pointer;
        font-size: 14px;
        backdrop-filter: blur(5px);
    }
</style>
</head>

<body>

<div class="background"></div>
<div class="gradient-overlay"></div>

<!-- AUDIO AUTOPLAY -->
<audio id="musica" loop autoplay playsinline>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_b77fa1971e.mp3" type="audio/mpeg">
</audio>

<div id="musicControl"> Ambiente reproduciendo (clic para pausar)</div>

<script>
    const audio = document.getElementById("musica");
    const control = document.getElementById("musicControl");
    let playing = true;

    audio.volume = 0.50;

    // Fallback autoplay
    document.addEventListener("mousemove", ()=>{
        if(!playing){
            audio.play();
            playing = true;
            control.textContent = " Ambiente reproduciendo (clic para pausar)";
        }
    }, {once:true});

    control.onclick = () => {
        if(playing){
            audio.pause();
            playing = false;
            control.textContent = " Activar ambiente";
        } else {
            audio.play();
            playing = true;
            control.textContent = " Ambiente reproduciendo (clic para pausar)";
        }
    };
</script>

<!-- FORMULARIO -->
<div class="form-card">
    <h1>Reclamaciones</h1>
    <p class="description">Por favor proporcione toda la informaci贸n necesaria para analizar su caso.</p>

    <form id="formulario">

        <label>Nombre y Apellidos *</label>
        <input type="text" id="nombre" required>

        <label>Num. de pedido *</label>
        <input type="text" id="pedido" required>

        <label>Fecha y hora de aplicaci贸n *</label>
        <input type="datetime-local" id="fechaHoraAplicacion" required>

        <label>Ciudad de aplicaci贸n *</label>
        <input type="text" id="ciudad" required>

        <label>Habitaci贸n ventilada *</label>
        <div class="radio-group">
            <label><input type="radio" name="habitacionVentilada" value="Si" required> S铆</label>
            <label><input type="radio" name="habitacionVentilada" value="No"> No</label>
        </div>

        <label>Pasos realizados</label>
        <textarea id="pasosRealizados"></textarea>

        <label>Uso de mallas *</label>
        <div class="radio-group">
            <label><input type="radio" name="usoMallas" value="Si" required> S铆</label>
            <label><input type="radio" name="usoMallas" value="No"> No</label>
        </div>

        <label>Soporte de aplicaci贸n</label>
        <input type="text" id="soporteAplicacion">

        <label>Tiempo con el envase/producto abierto</label>
        <input type="text" id="tiempoEnvaseAbierto">

        <label>N煤mero capas aplicadas</label>
        <input type="number" id="numeroCapas">

        <label>Relaci贸n de mezcla</label>
        <input type="text" id="relacionMezcla">

        <label>Tipo de habitaci贸n</label>
        <input type="text" id="tipoHabitacion">

        <label>Temperatura (潞C) aplicaci贸n</label>
        <input type="number" id="temperaturaAplicacion" step="0.1">

        <label>Localizaci贸n aplicaci贸n *</label>
        <div class="radio-group">
            <label><input type="radio" name="localizacion" value="Planta Baja" required> Planta Baja</label>
            <label><input type="radio" name="localizacion" value="Primer Piso"> Primer Piso</label>
            <label><input type="radio" name="localizacion" value="Segundo Piso"> Segundo Piso</label>
            <label><input type="radio" name="localizacion" value="Piso Alto"> Piso Alto</label>
            <label><input type="radio" name="localizacion" value="Subsuelo"> Subsuelo</label>
            <label><input type="radio" name="localizacion" value="Otras"> Otras</label>
        </div>

        <label>Otros detalles</label>
        <textarea id="otrosDetalles"></textarea>

        <label>Comercial *</label>
        <input type="text" id="comercial" required>

        <button type="submit">Enviar</button>
    </form>
</div>

<script>
document.getElementById('formulario').addEventListener('submit', function(e) {
    e.preventDefault();

    const data = {
        nombre_apellidos: nombre.value,
        numero_pedido: pedido.value,
        fecha_hora_aplicacion: fechaHoraAplicacion.value,
        ciudad_aplicacion: ciudad.value,
        habitacion_ventilada: document.querySelector('input[name="habitacionVentilada"]:checked').value,
        pasos_realizados: pasosRealizados.value,
        uso_mallas: document.querySelector('input[name="usoMallas"]:checked').value,
        soporte_aplicacion: soporteAplicacion.value,
        tiempo_envase_abierto: tiempoEnvaseAbierto.value,
        numero_capas_aplicadas: numeroCapas.value,
        relacion_mezcla: relacionMezcla.value,
        tipo_habitacion: tipoHabitacion.value,
        temperatura_aplicacion: temperaturaAplicacion.value,
        localizacion_aplicacion: document.querySelector('input[name="localizacion"]:checked').value,
        otros_detalles: otrosDetalles.value,
        comercial: comercial.value
    };

    fetch("https://aff94820bd7ae1c68adacb1a608c7d.5c.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/491ec07957c5495aa97185d178dd43a4/triggers/manual/paths/invoke?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=Sf47I0SBWS4A10rbImuKZa4kAvtGlTTHKHr6svEuf5Y", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(data)
    })
    .then(r=>r.json())
    .then(()=>alert("Formulario enviado correctamente"))
    .catch(()=>alert("Error al enviar los datos"));
});
</script>

</body>
</html>
