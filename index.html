<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Reclamaciones</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        font-family: 'Segoe UI', sans-serif;
        background: #f2f2f2;
    }

    /* FONDO REAL COMO MICROSOFT FORMS */
    .background {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        background-image: url('https://yannick-tt.github.io/formulario_fichas_tecnicas/microcemento.jpg');
        background-size: cover;
        background-position: center;
        filter: blur(8px) brightness(0.7);
        z-index: -1;
    }

    /* CAPA DEGRADADA SUPERIOR */
    .gradient-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        background: linear-gradient(to bottom, rgba(255,255,255,0.7), rgba(255,255,255,0.4), rgba(255,255,255,0.6));
        z-index: -1;
    }

    /* TARJETA TIPO FORMS */
    .form-card {
        max-width: 820px;
        margin: 80px auto;
        background: rgba(255, 255, 255, 0.92);
        padding: 50px;
        border-radius: 26px;
        box-shadow: 0 12px 40px rgba(0,0,0,0.2);
        backdrop-filter: blur(8px);
    }

    h1 {
        margin: 0 0 10px 0;
        font-size: 38px;
        font-weight: 600;
        color: #1a1a1a;
    }

    p.description {
        margin-bottom: 40px;
        font-size: 16px;
        color: #555;
    }

    label {
        display: block;
        margin-top: 18px;
        margin-bottom: 6px;
        font-weight: 600;
        font-size: 15px;
    }

    input, textarea {
        width: 100%;
        padding: 14px;
        border-radius: 10px;
        border: 1px solid #ccc;
        font-size: 15px;
        background: #fff;
        box-sizing: border-box;
        transition: 0.2s;
    }

    input:focus, textarea:focus {
        border-color: #2563eb;
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
        outline: none;
    }

    textarea {
        min-height: 80px;
        resize: vertical;
    }

    .radio-group {
        margin-top: 8px;
        display: flex;
        flex-wrap: wrap;
        gap: 26px;
    }

    button {
        margin-top: 30px;
        background: #2563eb;
        color: white;
        padding: 16px 26px;
        border: none;
        border-radius: 10px;
        font-size: 17px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.2s;
    }

    button:hover {
        background: #1e4ec7;
        transform: translateY(-2px);
    }

    /* BOTN MSICA */
    #musicControl {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(0,0,0,0.65);
        color: white;
        padding: 10px 18px;
        border-radius: 18px;
        cursor: pointer;
        font-size: 14px;
        backdrop-filter: blur(4px);
    }
</style>
</head>

<body>

<div class="background"></div>
<div class="gradient-overlay"></div>

<!-- MSICA DE BOSQUE -->
<audio id="musica" loop autoplay>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_b77fa1971e.mp3" type="audio/mpeg">
</audio>

<div id="musicControl"> Ambiente reproduciendo (clic para pausar)</div>

<script>
    const audio = document.getElementById("musica");
    const control = document.getElementById("musicControl");
    let playing = true;

    audio.volume = 0.5;

    window.addEventListener("load", () => {
        audio.play().catch(() => {
            playing = false;
            control.textContent = " Activar ambiente";
        });
    });

    control.addEventListener("click", () => {
        if (playing) {
            audio.pause();
            playing = false;
            control.textContent = " Activar ambiente";
        } else {
            audio.play();
            playing = true;
            control.textContent = " Ambiente reproduciendo (clic para pausar)";
        }
    });
</script>

<!-- FORMULARIO -->
<div class="form-card">
    <h1>Reclamaciones</h1>
    <p class="description">Por favor proporcione toda la informaci贸n necesaria para analizar correctamente su caso.</p>

    <form id="formulario">

        <label>Nombre y Apellidos *</label>
        <input type="text" id="nombre" required>

        <label>Num. de pedido *</label>
        <input type="text" id="pedido" required>

        <label>Fecha y hora de aplicaci贸n *</label>
        <input type="datetime-local" id="fechaHoraAplicacion" required>

        <label>Ciudad de aplicaci贸n *</label>
        <input type="text" id="ciudad" required>

        <label>Habitaci贸n ventilada *</label>
        <div class="radio-group">
            <label><input type="radio" name="habitacionVentilada" value="Si" required> S铆</label>
            <label><input type="radio" name="habitacionVentilada" value="No"> No</label>
        </div>

        <label>Pasos realizados</label>
        <textarea id="pasosRealizados"></textarea>

        <label>Uso de mallas *</label>
        <div class="radio-group">
            <label><input type="radio" name="usoMallas" value="Si" required> S铆</label>
            <label><input type="radio" name="usoMallas" value="No"> No</label>
        </div>

        <label>Soporte de aplicaci贸n</label>
        <input type="text" id="soporteAplicacion">

        <label>Tiempo con el envase/producto abierto</label>
        <input type="text" id="tiempoEnvaseAbierto">

        <label>N煤mero capas aplicadas</label>
        <input type="number" id="numeroCapas">

        <label>Relaci贸n de mezcla</label>
        <input type="text" id="relacionMezcla">

        <label>Tipo de habitaci贸n</label>
        <input type="text" id="tipoHabitacion">

        <label>Temperatura (潞C) aplicaci贸n</label>
        <input type="number" id="temperaturaAplicacion" step="0.1">

        <label>Localizaci贸n aplicaci贸n *</label>
        <div class="radio-group">
            <label><input type="radio" name="localizacion" value="Planta Baja" required> Planta Baja</label>
            <label><input type="radio" name="localizacion" value="Primer Piso"> Primer Piso</label>
            <label><input type="radio" name="localizacion" value="Segundo Piso"> Segundo Piso</label>
            <label><input type="radio" name="localizacion" value="Piso Alto"> Piso Alto</label>
            <label><input type="radio" name="localizacion" value="Subsuelo"> Subsuelo</label>
            <label><input type="radio" name="localizacion" value="Otras"> Otras</label>
        </div>

        <label>Otros detalles</label>
        <textarea id="otrosDetalles"></textarea>

        <label>Comercial *</label>
        <input type="text" id="comercial" required>

        <button type="submit">Enviar</button>
    </form>
</div>

<script>
    document.getElementById('formulario').addEventListener('submit', function(e) {
        e.preventDefault();

        const data = {
            nombre_apellidos: document.getElementById('nombre').value,
            numero_pedido: document.getElementById('pedido').value,
            fecha_hora_aplicacion: document.getElementById('fechaHoraAplicacion').value,
            ciudad_aplicacion: document.getElementById('ciudad').value,
            habitacion_ventilada: document.querySelector('input[name="habitacionVentilada"]:checked').value,
            pasos_realizados: document.getElementById('pasosRealizados').value,
            uso_mallas: document.querySelector('input[name="usoMallas"]:checked').value,
            soporte_aplicacion: document.getElementById('soporteAplicacion').value,
            tiempo_envase_abierto: document.getElementById('tiempoEnvaseAbierto').value,
            numero_capas_aplicadas: document.getElementById('numeroCapas').value,
            relacion_mezcla: document.getElementById('relacionMezcla').value,
            tipo_habitacion: document.getElementById('tipoHabitacion').value,
            temperatura_aplicacion: document.getElementById('temperaturaAplicacion').value,
            localizacion_aplicacion: document.querySelector('input[name="localizacion"]:checked').value,
            otros_detalles: document.getElementById('otrosDetalles').value,
            comercial: document.getElementById('comercial').value
        };

        fetch("https://aff94820bd7ae1c68adacb1a608c7d.5c.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/491ec07957c5495aa97185d178dd43a4/triggers/manual/paths/invoke?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=Sf47I0SBWS4A10rbImuKZa4kAvtGlTTHKHr6svEuf5Y", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        })
        .then(r => r.json())
        .then(() => alert("Formulario enviado correctamente"))
        .catch(() => alert("Error al enviar los datos"));
    });
</script>

</body>
</html>
